(function(){"use strict";var e={6658:function(e,t,a){var n=a(7754),r=a.n(n),o=a(6369),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},l=[],i={name:"App",components:{}},c=i,u=a(1001),m=(0,u.Z)(c,s,l,!1,null,null,null),p=m.exports,d=a(2631),h=function(){var e=this,t=e._self._c;return t("div",[t("el-container",[t("el-aside",{attrs:{width:"auto"}},[t("common-aside")],1),t("el-container",[t("el-header",[t("common-header")],1),t("common-tag"),t("el-main",[t("router-view")],1)],1)],1)],1)},f=[],g=function(){var e=this,t=e._self._c;return t("div",[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1",collapse:e.isCollapse,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:e.handleOpen,close:e.handleClose}},[t("img",{staticClass:"title_top_img",attrs:{src:a(2315),alt:""}}),t("h3",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapse,expression:"!isCollapse"}]},[e._v("通用后台管理系统")]),e._l(e.nochildren,(function(a){return t("el-menu-item",{key:a.name,attrs:{index:a.name},on:{click:function(t){return e.clickMenu(a)}}},[t("i",{class:`el-icon-${a.icon}`}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.label))])])})),e._l(e.haschildren,(function(a){return t("el-submenu",{key:a.label,attrs:{index:a.label}},[t("template",{slot:"title"},[t("i",{class:`el-icon-${a.icon}`}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.label))])]),e._l(a.children,(function(a){return t("el-menu-item-group",{key:a.path},[t("el-menu-item",{attrs:{index:a.path},on:{click:function(t){return e.clickMenu(a)}}},[e._v(e._s(a.label))])],1)}))],2)}))],2)],1)},b=[],v=(a(7658),{name:"CommonAside",data(){return{menuData:[{path:"/home",name:"home",label:"首页",icon:"s-home",url:"Home/Home"},{path:"/mall",name:"mall",label:"商品管理",icon:"s-goods",url:"MallManage/MallManage"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"UserManage/UserManage"},{path:"/personal",name:"personal",label:"个人中心",icon:"s-custom",url:"personal/personal"},{label:"其他",icon:"location",children:[{path:"/page1",name:"page1",label:"页面1",icon:"setting",url:"Other/PageOne"},{path:"/page2",name:"page2",label:"页面2",icon:"setting",url:"Other/PageTwo"}]}]}},methods:{handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},clickMenu(e){this.$route.path!=e.path&&("/"===this.$route.path&&"/home"===e.path||this.$router.push(e.path)),this.$store.commit("selectMenu",e)}},computed:{nochildren(){return this.menuData.filter((e=>!e.children))},haschildren(){return this.menuData.filter((e=>e.children))},isCollapse(){return this.$store.state.tab.isCollapse}}}),_=v,y=(0,u.Z)(_,g,b,!1,null,"f64cba44",null),x=y.exports,k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header-container"},[t("div",{staticClass:"l-content"},[t("el-button",{staticStyle:{"margin-right":"20px"},attrs:{icon:"el-icon-menu",size:"mini"},on:{click:e.HandleMenu}}),t("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.tags,(function(a){return t("el-breadcrumb-item",{key:a.path,attrs:{to:{path:a.path}}},[e._v(e._s(a.label))])})),1)],1),t("div",{staticClass:"r-content"},[t("el-dropdown",{on:{command:e.HandleExit}},[t("span",{staticClass:"el-dropdown-link"},[t("img",{staticClass:"user",attrs:{src:a(2315),alt:""}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"exit"}},[e._v("退出")])],1)],1)],1)])},w=[],C=a(680),$=a(3822),S={name:"CommonHeader",data(){return{}},methods:{HandleMenu(){this.$store.commit("collapseMenu")},HandleExit(e){"exit"===e&&(C.Z.remove("token"),this.$router.push("/Login"),this.$message.success("退出成功！"))}},computed:{...(0,$.rn)({tags:e=>e.tab.tabsList})},mounted(){console.log(this.tags,"tags")}},D=S,P=(0,u.Z)(D,k,w,!1,null,"e8cb44a8",null),O=P.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tabs"},e._l(e.tags,(function(a,n){return t("el-tag",{key:a.path,attrs:{closable:"home"!==a.name,"disable-transitions":!1,effect:e.$route.name===a.name?"dark":"plain",size:"small"},on:{click:function(t){return e.changeMenu(a)},close:function(t){return e.handleClose(a,n)}}},[e._v(" "+e._s(a.label)+" ")])})),1)},M=[],T={name:"CommonTag",data(){return{}},computed:{...(0,$.rn)({tags:e=>e.tab.tabsList})},methods:{...(0,$.OI)(["closeTag"]),changeMenu(e){this.$router.push({name:e.name})},handleClose(e,t){this.closeTag(e);const a=this.tags.length;e.name==this.$route.name&&(t===a?this.$router.push({name:this.tags[t-1].name}):this.$router.push({name:this.tags[t].name}))}}},Z=T,L=(0,u.Z)(Z,H,M,!1,null,"487f0908",null),j=L.exports,z={name:"MainView",data(){return{}},components:{CommonAside:x,CommonHeader:O,CommonTag:j}},N=z,q=(0,u.Z)(N,h,f,!1,null,null,null),E=q.exports,F=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"box-card first"},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:7}},[t("el-input",{attrs:{placeholder:"请输入用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Search.apply(null,arguments)}},model:{value:e.SearchParams.SearchName,callback:function(t){e.$set(e.SearchParams,"SearchName",t)},expression:"SearchParams.SearchName"}})],1),t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.Search}},[e._v("搜索")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.button_AddHomeData(e.form)}}},[e._v("添加")])],1),t("el-dialog",{attrs:{title:"添加用户",visible:e.dialogFormVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"form",staticClass:"add_form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[t("el-form-item",{attrs:{label:"用户姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"身份证号",prop:"zip"}},[t("el-input",{attrs:{placeholder:"请输入用身份证号"},model:{value:e.form.zip,callback:function(t){e.$set(e.form,"zip",t)},expression:"form.zip"}})],1),t("el-form-item",{attrs:{label:"城市",prop:"province"}},[t("el-select",{staticClass:"add_form province",attrs:{placeholder:"省份"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},[t("el-option",{attrs:{label:"北京",value:"北京"}}),t("el-option",{attrs:{label:"陕西",value:"陕西"}})],1)],1),t("el-form-item",{attrs:{prop:"city"}},[t("el-select",{attrs:{placeholder:"市区"},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},[t("el-option",{attrs:{label:"东城",value:"东城"}}),t("el-option",{attrs:{label:"海淀",value:"海淀"}})],1)],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入家庭地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),t("el-form-item",{attrs:{label:"添加日期",prop:"date"}},[t("el-col",{attrs:{span:11}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit(e.form)}}},[e._v("立即创建")]),t("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)],1),t("el-card",{staticClass:"box-card",staticStyle:{height:"550px"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","max-height":"500"}},[t("el-table-column",{attrs:{fixed:"",prop:"date",label:"日期",width:"130"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),t("el-table-column",{attrs:{prop:"province",label:"省份",width:"100"}}),t("el-table-column",{attrs:{prop:"city",label:"市区",width:"100"}}),t("el-table-column",{attrs:{prop:"address",label:"地址",width:"300"}}),t("el-table-column",{attrs:{prop:"zip",label:"身份证号",width:"240"}}),t("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.button_EditHomeData(a.row)}}},[e._v("编辑")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.button_DeleteHomeData(a.row)}}},[e._v("删除")])]}}])})],1)],1),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.TotalData,"page-size":8},on:{"current-change":e.handlePage}})],1)},U=[],V=a(70);const A=V.ZP.create({baseURL:"http://localhost:3000/",timeout:5e3});A.interceptors.request.use((function(e){return console.log(e,"我是config"),e}),(function(e){return Promise.reject(e)})),A.interceptors.response.use((function(e){let t=e.config.params;return t&&(t.limit&&(e.data=e.data.slice(t.limit*(t.page-1),t.limit*t.page)),t.SearchName&&(e.data=e.data.filter((e=>e.name===t.SearchName)))),e}),(function(e){return Promise.reject(e)}));const I=V.ZP.create({baseURL:"http://localhost:3000/",timeout:5e3});I.interceptors.request.use((function(e){return console.log(e),e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){return e.judge=!1,e.data.forEach((t=>{t.username===JSON.parse(e.config.data).username&&(e.judge=!0)})),e}),(function(e){return Promise.reject(e)}));const J=e=>A.get("/HomeData",{params:e}),B=e=>A.get("/HomeData",{params:e}),R=()=>(console.log("没有page"),A.get("/HomeData")),G=e=>A.post("/HomeData",e),K=e=>A.put(`/HomeData/${e.id}`,e),Q=e=>A["delete"](`/HomeData/${e.id}`,e),W=e=>I.get("/Login",{data:e});var X={name:"home",data(){return{tableData:[],dialogFormVisible:!1,form:{name:"",province:"",city:"",address:"",date:"",zip:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],province:[{required:!0,message:"请选择省份",trigger:"change"}],city:[{required:!0,message:"请选择市区",trigger:"change"}],date:[{required:!0,message:"请选择日期",trigger:"change"}],address:[{required:!0,message:"请选择地址",trigger:"change"}],zip:[{required:!0,message:"请输入身份证号",trigger:"change"}]},modelType:0,SearchParams:{SearchName:""},TotalData:0,PageDate:{page:1,limit:8}}},mounted(){R().then((e=>{this.tableData=e.data,this.TotalData=this.tableData.length}))},methods:{onSubmit(e){this.$refs.form.validate((e=>{e&&(0===this.modelType&&(G(this.form).then((()=>{R().then((e=>{this.tableData=e.data}))})),this.$message({type:"success",message:"添加成功"}),this.handleClose()),1===this.modelType&&(K(this.form).then((()=>{R().then((e=>{this.$message({type:"success",message:"修改成功"}),this.tableData=e.data}))})),this.handleClose()))}))},handleClose(){this.$refs.form.resetFields(),this.dialogFormVisible=!1},button_AddHomeData(){this.dialogFormVisible=!0,this.modelType=0},button_EditHomeData(e){this.dialogFormVisible=!0,this.form=JSON.parse(JSON.stringify(e)),this.modelType=1},button_DeleteHomeData(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{Q(e).then((()=>{R().then((e=>{this.tableData=e.data}))})),this.modelType=2,this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},Search(){""!==this.SearchParams.SearchName?B(this.SearchParams).then((e=>{0===e.data.length?this.$message.error("后台没有这个人"):(this.$message.success("从后台找到了此人!"),this.tableData=e.data)})):this.$message.warning("请输入值，毕竟所有人都有名字！"),this.SearchParams.SearchName=""},handlePage(e){this.PageDate.page=e,J(this.PageDate).then((e=>{this.tableData=e.data}))}}},Y=X,ee=(0,u.Z)(Y,F,U,!1,null,"6e734004",null),te=ee.exports,ae=function(){var e=this;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("我是User组件")])])}],re={name:"User",data(){return{}}},oe=re,se=(0,u.Z)(oe,ae,ne,!1,null,null,null),le=se.exports,ie=function(){var e=this,t=e._self._c;return t("div",[e._v("我是商品管理页面")])},ce=[],ue={name:"Mall",data(){return{}}},me=ue,pe=(0,u.Z)(me,ie,ce,!1,null,null,null),de=pe.exports,he=function(){var e=this,t=e._self._c;return t("div",[e._v("我是page1页面")])},fe=[],ge={name:"PageOne",data(){return{}}},be=ge,ve=(0,u.Z)(be,he,fe,!1,null,null,null),_e=ve.exports,ye=function(){var e=this,t=e._self._c;return t("div",[e._v("我是page2页面")])},xe=[],ke={name:"PageTwo",data(){return{}}},we=ke,Ce=(0,u.Z)(we,ye,xe,!1,null,null,null),$e=Ce.exports,Se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("el-form",{ref:e.form,staticClass:"login-container",attrs:{inline:!0,model:e.form,rules:e.rules}},[t("h2",{staticClass:"login-title"},[e._v("Login")]),t("el-form-item",{staticClass:"input-item",attrs:{prop:"username"}},[t("el-input",{attrs:{placeholder:"用户名","prefix-icon":"el-icon-user"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{staticClass:"input-item",attrs:{prop:"password"}},[t("el-input",{attrs:{placeholder:"密码",type:"password","show-password":"","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit()}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v("登录")]),e._v("s ")],1)],1)],1)},De=[],Pe={data(){return{form:{username:"",password:""},rules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}}},methods:{submit(){W(this.form).then((e=>{if(e.judge){let e=1;C.Z.set("token",e),this.$router.push("/Home")}else this.$message.error("后台没有这个username"),this.form.username="",this.form.password=""}))}}},Oe=Pe,He=(0,u.Z)(Oe,Se,De,!1,null,"25dfc2bb",null),Me=He.exports,Te=function(){var e=this,t=e._self._c;return t("h1",[e._v("我是个人中心")])},Ze=[],Le={data(){return{}}},je=Le,ze=(0,u.Z)(je,Te,Ze,!1,null,null,null),Ne=ze.exports,qe=new d.ZP({routes:[{path:"/",component:E,redirect:"/Home",children:[{path:"Home",name:"home",component:te},{path:"User",name:"user",component:le},{path:"Mall",name:"mall",component:de},{path:"Page1",name:"page1",component:_e},{path:"Page2",name:"page2",component:$e},{path:"/personal",name:"personal",component:Ne}]},{path:"/login",name:"Login",component:Me}]});const Ee={isCollapse:!1,tabsList:[{path:"/home",name:"home",label:"首页",icon:"s-home",url:"Home/Home"}]},Fe={collapseMenu(e){e.isCollapse=!e.isCollapse},selectMenu(e,t){if("home"!==t.name){const a=e.tabsList.findIndex((e=>e.name===t.name));-1===a&&e.tabsList.push(t)}},closeTag(e,t){const a=e.tabsList.findIndex((e=>e.name===t.name));e.tabsList.splice(a,1)}};var Ue={state:Ee,mutations:Fe};o["default"].use($.ZP);var Ve=new $.ZP.Store({modules:{tab:Ue}});o["default"].config.productionTip=!1,o["default"].use(r()),o["default"].use(d.ZP),qe.beforeEach(((e,t,a)=>{const n=C.Z.get("token");console.log(n),n||"Login"===e.name?n&&"Login"===e.name?a({name:"Home"}):a():a({name:"Login"})}));const Ae=new o["default"]({el:"#app",render:e=>e(p),router:qe,store:Ve});console.log(Ae)},2315:function(e,t,a){e.exports=a.p+"img/user.36929a03.png"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,o){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],o=e[u][2];for(var l=!0,i=0;i<n.length;i++)(!1&o||s>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(l=!1,o<s&&(s=o));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,o,s=n[0],l=n[1],i=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(i)var u=i(a)}for(t&&t(n);c<s.length;c++)o=s[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkvue_management"]=self["webpackChunkvue_management"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(6658)}));n=a.O(n)})();
//# sourceMappingURL=app.edafdec6.js.map